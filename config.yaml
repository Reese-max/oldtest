# 考古題處理系統配置文件
# Archaeology Questions Processing System Configuration

# PDF 處理配置
processing:
  max_pages: 200              # 最大處理頁數
  memory_cleanup_interval: 50  # 記憶體清理間隔（頁）
  output_encoding: utf-8-sig   # 輸出編碼
  csv_delimiter: ","           # CSV 分隔符

# Google 表單配置
google_form:
  enable_auto_score: true      # 啟用自動評分
  shuffle_options: false       # 隨機選項順序
  required: true               # 必填題目
  form_title: "考古題測驗"     # 表單標題

# OCR 配置
ocr:
  pdf_to_image_dpi: 300        # PDF 轉圖片 DPI
  pdf_to_image_zoom: 2.0       # PDF 轉圖片縮放
  confidence_threshold: 0.5    # 信心度閾值
  use_gpu: false               # 使用 GPU 加速
  lang: ch                     # 語言設置

# 並發處理配置
concurrent:
  max_workers: 4               # 最大 worker 數量
  use_processes: false         # 使用多進程（否則使用多線程）
  batch_size: 50               # 批次大小
  fail_fast: false             # 快速失敗模式

# 日誌配置
logging:
  level: INFO                  # 日誌級別 (DEBUG, INFO, WARNING, ERROR)
  file: logs/app.log          # 日誌文件路徑
  max_size: 10485760          # 最大文件大小 (10MB)
  backup_count: 5             # 備份數量
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 題目掃描追蹤配置
scan_tracking:
  enabled: true                # 啟用掃描追蹤
  save_report: true            # 保存掃描報告
  report_format: json          # 報告格式 (json, txt)

# 性能監控配置
performance:
  enabled: false               # 啟用性能監控
  metrics_interval: 60         # 指標收集間隔（秒）
  save_metrics: false          # 保存性能指標

# 錯誤恢復配置
error_recovery:
  max_retries: 3               # 最大重試次數
  retry_delay: 2               # 重試延遲（秒）
  exponential_backoff: true    # 指數退避

# 輸出配置
output:
  default_dir: output          # 默認輸出目錄
  create_subdirs: true         # 為每個文件創建子目錄
  overwrite_existing: false    # 覆蓋現有文件

# 下載器配置 (優先級1增強功能)
downloader:
  # 並發下載設置
  concurrent_downloads: 5      # 並發下載數量 (1-10，建議3-5)
  enable_concurrent: true      # 啟用並發下載

  # 進度顯示設置
  show_progress_bar: true      # 顯示詳細進度條
  progress_bar_style: bar      # 進度條樣式 (bar, smooth, simple)
  show_download_speed: true    # 顯示下載速度
  show_eta: true               # 顯示預計剩餘時間

  # 斷點續傳設置
  enable_resume: true          # 啟用斷點續傳
  resume_chunk_size: 8192      # 下載區塊大小 (bytes)
  resume_temp_suffix: .part    # 臨時文件後綴
  verify_resume: true          # 驗證續傳文件完整性

  # 連接設置
  connection_timeout: 10       # 連接超時 (秒)
  read_timeout: 120            # 讀取超時 (秒)
  max_retries: 10              # 最大重試次數
  retry_delay: 0.5             # 重試基礎延遲 (秒)

  # 速率限制
  rate_limit_enabled: false    # 啟用速率限制
  max_speed_mbps: 10           # 最大下載速度 (MB/s)

  # 其他
  verify_ssl: false            # 驗證 SSL 證書
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
